From f3e9617660b8a06565e5045f7b111200ad2dc06c Mon Sep 17 00:00:00 2001
From: Glauber Maroto Ferreira <glauber.ferreira@espressif.com>
Date: Wed, 15 Sep 2021 09:18:31 -0300
Subject: [PATCH] hal: wifi: esp32s2: make some wifi files common

move some wifi hal support files to a common folder.

Signed-off-by: Glauber Maroto Ferreira <glauber.ferreira@espressif.com>
---
 zephyr/esp32s2/CMakeLists.txt                                 | 4 +++-
 zephyr/{esp32s2 => esp_shared}/include/stubs.h                | 0
 zephyr/{esp32s2 => esp_shared}/include/wifi/esp_event.h       | 0
 .../include/wifi/esp_networking_priv.h                        | 0
 zephyr/{esp32s2 => esp_shared}/src/common/esp_system_api.c    | 0
 5 files changed, 3 insertions(+), 1 deletion(-)
 rename zephyr/{esp32s2 => esp_shared}/include/stubs.h (100%)
 rename zephyr/{esp32s2 => esp_shared}/include/wifi/esp_event.h (100%)
 rename zephyr/{esp32s2 => esp_shared}/include/wifi/esp_networking_priv.h (100%)
 rename zephyr/{esp32s2 => esp_shared}/src/common/esp_system_api.c (100%)

diff --git a/zephyr/esp32s2/CMakeLists.txt b/zephyr/esp32s2/CMakeLists.txt
index fee40ae4f..b6798d55b 100644
--- a/zephyr/esp32s2/CMakeLists.txt
+++ b/zephyr/esp32s2/CMakeLists.txt
@@ -5,6 +5,8 @@ if(CONFIG_SOC_ESP32S2)
     include
     include/crypto
     include/wifi
+    ../esp_shared/include
+    ../esp_shared/include/wifi
     ../../components/hal/include
     ../../components/hal/esp32s2/include
     ../../components/esp_hw_support/port/esp32s2
@@ -60,7 +62,7 @@ if(CONFIG_SOC_ESP32S2)
     ../../components/driver/periph_ctrl.c
     ../../components/log/log_noos.c
     ../../components/log/log.c
-    src/common/esp_system_api.c
+    ../esp_shared/src/common/esp_system_api.c
     )
 
   ## WIFI definitions
diff --git a/zephyr/esp32s2/include/stubs.h b/zephyr/esp_shared/include/stubs.h
similarity index 100%
rename from zephyr/esp32s2/include/stubs.h
rename to zephyr/esp_shared/include/stubs.h
diff --git a/zephyr/esp32s2/include/wifi/esp_event.h b/zephyr/esp_shared/include/wifi/esp_event.h
similarity index 100%
rename from zephyr/esp32s2/include/wifi/esp_event.h
rename to zephyr/esp_shared/include/wifi/esp_event.h
diff --git a/zephyr/esp32s2/include/wifi/esp_networking_priv.h b/zephyr/esp_shared/include/wifi/esp_networking_priv.h
similarity index 100%
rename from zephyr/esp32s2/include/wifi/esp_networking_priv.h
rename to zephyr/esp_shared/include/wifi/esp_networking_priv.h
diff --git a/zephyr/esp32s2/src/common/esp_system_api.c b/zephyr/esp_shared/src/common/esp_system_api.c
similarity index 100%
rename from zephyr/esp32s2/src/common/esp_system_api.c
rename to zephyr/esp_shared/src/common/esp_system_api.c
-- 
2.33.0

